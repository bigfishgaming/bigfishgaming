<Module>
<ModulePrefs title="X"/>
<Content type="html">
<![CDATA[<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Big Fish Gaming</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            font-family: Arial, sans-serif;
            color: white;
            min-height: 100vh;
            overflow: hidden;
        }

        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .content {
            position: relative;
            text-align: center;
            padding-top: 20vh;
            z-index: 1;
        }

        h1 {
            font-size: 2.5em;
            color: white;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #888;
            font-size: 0.9em;
            margin-bottom: 30px;
        }

        .button-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }

        .button {
            background: rgba(40, 40, 40, 0.9);
            border: none;
            padding: 10px 25px;
            color: white;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            min-width: 120px;
            z-index: 2;
        }

        .button:hover {
            background: rgba(60, 60, 60, 0.9);
        }

        .time {
            position: absolute;
            top: 10px;
            right: 10px;
            color: white;
            z-index: 2;
        }

        .title {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            z-index: 2;
        }

        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(40, 40, 40, 0.95);
            padding: 20px;
            border-radius: 10px;
            z-index: 1000;
        }

        .popup input {
            margin: 10px 0;
            padding: 5px;
            width: 100%;
            background: rgba(60, 60, 60, 0.9);
            border: none;
            color: white;
            border-radius: 5px;
        }

        .popup button {
            margin: 5px;
            padding: 5px 10px;
            background: rgba(80, 80, 80, 0.9);
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
    <script>
        window.onload = function() {
            let password = prompt("Enter password to access Big Fish Gaming:");
            if (password !== "bigfishgaming") {
                window.close();
                document.body.innerHTML = '';
                window.location.href = 'about:blank';
            }
        }
    </script>
</head>
<body>
    <div id="particles-js"></div>
    <div class="title">Big Fish Gaming</div>
    <div class="time" id="clock"></div>

    <div class="content">
        <h1>Welcome to Big Fish Gaming</h1>
        <div class="subtitle">
            Credits to Pulsecodes for helping me<br>
            He's one of the devs for Project Existence
        </div>

        <div class="button-container">
            <button class="button" onclick="showTabCloakPopup()">Tab Cloak</button>
            <button class="button" onclick="openGames()">Games</button>
            <button class="button" onclick="openProxy()">Proxy</button>
            <button class="button" onclick="loadAI()">AI Chat</button>
            <button id="ASong" class="button" onclick="playPause()"><span>Toggle Music</span></button>
            <a href="https://pulsecodes.cc" class="button" target="_blank" style="text-decoration: none;">Pulse Codes</a>
        </div>
    </div>

    <div id="tabCloakPopup" class="popup">
        <h3>Tab Cloak Settings</h3>
        <input type="text" id="tabName" placeholder="Enter Tab Name">
        <input type="text" id="tabIcon" placeholder="Enter Icon URL">
        <button onclick="setTabCloak()">Apply</button>
        <button onclick="closePopup()">Cancel</button>
    </div>

    <audio id="backgroundMusic" src="https://static.wixstatic.com/mp3/1492ca_4f4d5001c7fd4f69a3848f393e80578d.mp3" loop></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        let games = [
            { name: "Google", url: "https://google.com/?igu=1" },
  { name: "Burrito Bison", url: "https://mcpshomeworkhelp-wixsite-com.filesusr.com/html/5378fb_eef382ca8b60fdf11be05f87d6b9f5eb.html" },  
  { name: "Tye of link", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/ixl-classroom/attach/29dd9d06d1387/lithium.xml?part=0.1&view=1&container=ig" },  
  { name: "Skibidi Toilet", url: "https://google-opensocial.googleusercontent.com/gadgets/ifr?url=https://147294106-271957305593713958.preview.editmysite.com/uploads/b/146211889-736862448591698921/files/stio.xml&container=ig" },  
  { name: "Tiny Fishing", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://72682389-756457502729861133.preview.editmysite.com/uploads/b/11886820-896015480911618794/files/tf.xml&container=ig" },  
  { name: "The Final Earth 2", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://529473016-184630684593625815.preview.editmysite.com/uploads/b/139890129-811652923688457694/files/tfe2.xml&container=ig" },  
  { name: "Slope", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/sk1bx/WebStarterkit@ebc61d8a952e7630c8c5ca3410335bf5d5f04711/src/sp.xml&container=ig" },  
  { name: "World's Hardest Game", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/1ee20621-61bc-4ec8-a8ec-5e839c2e6edc%2Fthe-world-s-hardest-game.xml&container=ig" },  
  { name: "Super Hot", url: "https://a6936-20249810.cluster7.canvas-user-content.com/courses/6936~1014013/files/6936~20249810/course%20files/superhot/index.html?download=1&inline=1" },  
  { name: "There Is No Game", url: "https://a6936-20098220.cluster7.canvas-user-content.com/courses/6936~1014013/files/6936~20098220/course%20files/there%20is%20no%20game/index.html?download=1&inline=1" },  
  { name: "Cookie Clicker", url: "https://a6936-19424025.cluster7.canvas-user-content.com/courses/6936~1014013/files/6936~19424025/course%20files/cookie%20clicker/index.html?download=1&inline=1" },  
  { name: "Time Shooter 2", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/sk1bx/element@1dd0b99d2004b84795f2745a5eb3468deb1c38a4/ts2.xml&container=ig" },  
  { name: "Time Shooter 3", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/sk1bx/version@0d8fb9c7430567ed0900902593eee6ba2ba8d297/ts3.xml&container=ig" },  
  { name: "Subway Surfers", url: "https://a6936-19375562.cluster7.canvas-user-content.com/courses/6936~1010708/files/6936~19375562/course%20files/vfcd/index.html" },  
  { name: "Retro Bowl", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://274079163-174037128449362058.preview.editmysite.com/uploads/b/139890129-899796311729593176/files/rtbl.xml&container=ig" },  
  { name: "Fallerz.io", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/gertdoro/learning-Python-3@4abaa4be3df458528ebc4487dcfe6b1c49d4ee7d/notebooks/fall.xml&container=ig" },  
  { name: "Tetris", url: "https://dionyziz.com/graphics/canvas-tetris/" },  
  { name: "Snow Rider 3D", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/sk1bx/89574567@71f165531792ae450fe0a522a52ba4e827344de2/sr3d.xml&container=ig" },  
  { name: "Eggy Car", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://googleusercontent.b-cdn.net/eggy-car/ec.xml&container=ig" },  
  { name: "Snowball.io", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/gertdoro/SQLite4Unity3d@8516fc0bd1d2be662ca484f5dc506268b24763ef/Example/Assets/snowball.xml&container=ig" },  
  { name: "Moving Co.", url: "https://movingco.h5games.usercontent.goog/v/8fe98e0f-b1b7-4fc6-8023-200af0320f20/?origin=https%3A%2F%2Fgamesnacks.com&gameCenterId=yt&userActivityMetrics=true&eids=95340509&features=InterstitialFreqCap__freq_cap_60s%2CInterstitialFreqCap__block_pga_1m_interstitials%2CMonetization__populate_google_global_correlator%2CMonetization__use_ppabg_tag#pc=3401423534985718&preStart=1726706962732" },  
  { name: "Snowdown Showdown", url: "https://educate.stemfuse.com/sf-serve/76/snowdown_showdown/index.html?class_id=&course_id=&active=" },  
  { name: "Johnny Trigger", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/yrgen73/Jtrigger@3d4eb8d328bab8af057daa77acd4cee7608f1ec1/jt.xml&container=ig" },  
  { name: "Elastic Face", url: "https://d21u3ic0kp9e91.cloudfront.net/elasticman/0/index.html" },  
  { name: "n-gon", url: "https://d272xss3wq00xu.cloudfront.net/n-gon/index.html" },  
  { name: "Craft Mine", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/bobydob/JSEngine@bdd7d45deaeaa50131e1913f2f0598cf147f8c56/build/crmine/crmi.xml&container=ig" },  
  { name: "Stack Bounce", url: "https://stackbounce.h5games.usercontent.goog/v/1aqsvv0aegbjg/?origin=https%3A%2F%2Fgamesnacks.com&gameCenterId=yt&userActivityMetrics=true&eids=95340509&features=InterstitialFreqCap__freq_cap_60s%2CInterstitialFreqCap__block_pga_1m_interstitials%2CMonetization__populate_google_global_correlator%2CMonetization__use_ppabg_tag#pc=4279443280740350&preStart=1726705971318&gameData=eyJsb2dsZXZlbCI6IkVSUk9SIiwiY2xldmVsQ3VycmVudCI6IjYiLCJjYmVzdFNjb3JlIjoiMTAxMTUiLCJjc3R5bGVJRCI6IjMiLCJjY2hvc2VuU2tpbklkIjoiMCIsImNwbGF0Zm9ybXNCcm9rZW5Ub3RhbCI6IjczMyIsImNsZXZlbC5yaW5nVHlwZUlEIjoiMyIsImNsZXZlbC5yaW5nc0NvdW50IjoiMjAwIiwiY2xldmVsLnJpbmdTY2FsaW5nIjoiMCJ9" },  
  { name: "Minecraft Parkour", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/9ecda005-11e9-4b52-ab9e-700b4d46d00f%2Fminep.xml&container=ig" },  
  { name: "2048", url: "https://d272xss3wq00xu.cloudfront.net/2048/index.html" },  
  { name: "Only Up Ball", url: "https://d272xss3wq00xu.cloudfront.net/a/index.html" },  
  { name: "Pocket Battle Royale", url: "https://pocketbattleroyale.h5games.usercontent.goog/v/7a1tg7kmi4mfg/?origin=https%3A%2F%2Fgamesnacks.com&gameCenterId=yt&userActivityMetrics=true&eids=95340509&features=InterstitialFreqCap__freq_cap_60s%2CInterstitialFreqCap__block_pga_1m_interstitials%2CMonetization__populate_google_global_correlator%2CMonetization__use_ppabg_tag#pc=30652399916874&preStart=1726706652900" },  
  { name: "Adventure Drivers", url: "https://d272xss3wq00xu.cloudfront.net/adventure-drivers/index.html" },  
  { name: "Angry Birds", url: "https://d272xss3wq00xu.cloudfront.net/angrybirds/index.html" },  
  { name: "Aquapark Slides", url: "https://d272xss3wq00xu.cloudfront.net/aquapark-slides/index.html" },  
  { name: "Backrooms", url: "https://d272xss3wq00xu.cloudfront.net/backrooms/index.html" },  
  { name: "Bacon May Die", url: "https://d272xss3wq00xu.cloudfront.net/bacon-may-die/index.html" },  
  { name: "Ball Hop", url: "https://d272xss3wq00xu.cloudfront.net/Ball-Hop/index.html" },  
  { name: "Ballistic", url: "https://d272xss3wq00xu.cloudfront.net/ballistic/index.html" },  
  { name: "You Are Jeff Bezos", url: "https://d272xss3wq00xu.cloudfront.net/bezos/index.html" },  
  { name: "BitLife", url: "https://d272xss3wq00xu.cloudfront.net/bitlife/index.html" },  
  { name: "Bottle Flip", url: "https://d272xss3wq00xu.cloudfront.net/bottle-flip-3d/index.html" },  
  { name: "Bottle Flip 3D", url: "https://d272xss3wq00xu.cloudfront.net/bottle-flip/index.html" },  
  { name: "Candy Crush Saga", url: "https://d272xss3wq00xu.cloudfront.net/candycrushsaga.html" },  
  { name: "Cars Simulator", url: "https://d272xss3wq00xu.cloudfront.net/cars-simulator/index.html" },  
  { name: "Chrome Dino", url: "https://d272xss3wq00xu.cloudfront.net/chrome-dino/index.html" },  
  { name: "Clicker Heroes", url: "https://d272xss3wq00xu.cloudfront.net/clicker-heroes/index.html" },  
  { name: "Make Sure It's Closed", url: "https://d272xss3wq00xu.cloudfront.net/closed/index.html" },  
  { name: "Cluster Rush", url: "https://d272xss3wq00xu.cloudfront.net/cluster-rush/index.html" },  
  { name: "Cooking Frenzy", url: "https://d272xss3wq00xu.cloudfront.net/bitlife/index.html" },  
  { name: "Crazy Cars", url: "https://d272xss3wq00xu.cloudfront.net/crazy-cars/index.html" },  
  { name: "Crossy Road", url: "https://d272xss3wq00xu.cloudfront.net/crossyroad/index.html" },  
  { name: "CS:GO Clicker", url: "https://d272xss3wq00xu.cloudfront.net/csgoclicker/index.html" },  
  { name: "Cut The Rope", url: "https://d272xss3wq00xu.cloudfront.net/cuttherope-Timetravel/index.html" },  
  { name: "Epic Stunt Cars", url: "https://d272xss3wq00xu.cloudfront.net/d/index.html" },  
  { name: "Deal Or No Deal", url: "https://d272xss3wq00xu.cloudfront.net/deal-or-no-deal/index.html" },  
  { name: "Doodle Jump", url: "https://d272xss3wq00xu.cloudfront.net/doodle-jump/index.html" },  
  { name: "Draw The Hill", url: "https://d272xss3wq00xu.cloudfront.net/draw-the-hill/index.html" },  
  { name: "Drift Boss", url: "https://d272xss3wq00xu.cloudfront.net/drift-boss/index.html" },  
  { name: "Drive Mad", url: "https://d272xss3wq00xu.cloudfront.net/drivemad/index.html" },  
  { name: "Duck Life 4", url: "https://d272xss3wq00xu.cloudfront.net/ducklife4/index.html" },  
  { name: "Tap Tap Shots", url: "https://d272xss3wq00xu.cloudfront.net/e/index.html" },  
  { name: "Edge Surf", url: "https://d272xss3wq00xu.cloudfront.net/edge-surf/index.html" },  
  { name: "Eel Slap", url: "https://d272xss3wq00xu.cloudfront.net/eel-slap/index.html" },  
  { name: "Eggy Car", url: "https://d272xss3wq00xu.cloudfront.net/eggy-car/index.html" },  
  { name: "Fake Virus", url: "https://d272xss3wq00xu.cloudfront.net/fake-virus/index.html" },  
  { name: "Flappy Bird", url: "https://d272xss3wq00xu.cloudfront.net/FNAF4/index.html" },  
  { name: "FNAF 4", url: "https://d272xss3wq00xu.cloudfront.net/flappy-bird/index.html" },  
  { name: "Football Legends", url: "https://d272xss3wq00xu.cloudfront.net/football-legends/index.html" },  
  { name: "Football Strike", url: "https://d272xss3wq00xu.cloudfront.net/football-strike/index.html" },  
  { name: "Fruit Ninja", url: "https://d272xss3wq00xu.cloudfront.net/fruitninja/index.html" },  
  { name: "Geometry Dash", url: "https://d272xss3wq00xu.cloudfront.net/geometry-dash/index.html" },  
  { name: "Geometry Dash Lite", url: "https://d272xss3wq00xu.cloudfront.net/geometrydash/index.html" },  
  { name: "Getting Over It", url: "https://d272xss3wq00xu.cloudfront.net/getting-over-it/index.html" },  
  { name: "Glass City", url: "https://d272xss3wq00xu.cloudfront.net/glass-city/index.html" },  
  { name: "Google Feud", url: "https://d272xss3wq00xu.cloudfront.net/google-feud/index.html" },  
  { name: "Google Snake", url: "https://d272xss3wq00xu.cloudfront.net/googlesnake.html" },  
  { name: "G-Switch 3", url: "https://d272xss3wq00xu.cloudfront.net/gswitch-3/index.html" },  
  { name: "Hop Pop It", url: "https://d272xss3wq00xu.cloudfront.net/hop-pop-it/index.html" },  
  { name: "Idle Restaurants", url: "https://d272xss3wq00xu.cloudfront.net/idle-restaurants/index.html" },  
  { name: "The Impossible Quiz", url: "https://d272xss3wq00xu.cloudfront.net/impossiblequiz/index.html" },  
  { name: "Jetpack Joyride", url: "https://d272xss3wq00xu.cloudfront.net/jetpack-joyride/index.html" },  
  { name: "Lemonade Stand", url: "https://d272xss3wq00xu.cloudfront.net/lemonadestand.html" },  
  { name: "New Super Mario Bros", url: "https://d272xss3wq00xu.cloudfront.net/mario-bros/index.html" },  
  { name: "Super Mario Bros", url: "https://d272xss3wq00xu.cloudfront.net/mario/index.html" },  
  { name: "Masked Special Forces", url: "https://d272xss3wq00xu.cloudfront.net/maskedspecialforces/index.html" },  
  { name: "Minecraft 1.5", url: "https://d272xss3wq00xu.cloudfront.net/minecraft-15/index.html" },  
  { name: "Minecraft 1.8", url: "https://d272xss3wq00xu.cloudfront.net/minecraft-18/index.html" },  
  { name: "Minecraft Case", url: "https://d272xss3wq00xu.cloudfront.net/minecraft-case/index.html" },  
  { name: "Minesweeper", url: "https://d272xss3wq00xu.cloudfront.net/minesweeper/index.html" },  
  { name: "Moto X3M", url: "https://d272xss3wq00xu.cloudfront.net/Moto-X3M/index.html" },  
  { name: "Mr. Bullet", url: "https://d272xss3wq00xu.cloudfront.net/mr-bullet/index.html" },  
  { name: "Nut Simulator", url: "https://d272xss3wq00xu.cloudfront.net/nut-simulator/index.html" },  
  { name: "osu!", url: "https://d272xss3wq00xu.cloudfront.net/osu.html" },  
  { name: "OvO 2", url: "https://d272xss3wq00xu.cloudfront.net/ovo-2/index.html" },  
  { name: "Pacman", url: "https://d272xss3wq00xu.cloudfront.net/pacman/index.html" },  
  { name: "Papa's Scooperia", url: "https://d272xss3wq00xu.cloudfront.net/papasscooperia/index.html" },  
  { name: "Paper Minecraft", url: "https://d272xss3wq00xu.cloudfront.net/paper-minecraft/index.html" },  
  { name: "Paper.io 3", url: "https://d272xss3wq00xu.cloudfront.net/paperio3.html" },  
  { name: "Papery Planes", url: "https://d272xss3wq00xu.cloudfront.net/papery-planes/index.html" },  
  { name: "Plants vs Zombies", url: "https://d272xss3wq00xu.cloudfront.net/plantsvszombies/plants%20vs%20zombies.html" },  
  { name: "Popcat", url: "https://d272xss3wq00xu.cloudfront.net/popcat/index.html" },  
  { name: "Rise Higher", url: "https://d272xss3wq00xu.cloudfront.net/risehigher/index.html" },  
  { name: "Rocket League", url: "https://d272xss3wq00xu.cloudfront.net/Rocket-League/index.html" },  
  { name: "Scrap Metal 3", url: "https://d272xss3wq00xu.cloudfront.net/scrapmetal/index.html" },  
  { name: "Skibidi Strike", url: "https://d272xss3wq00xu.cloudfront.net/skibidi-strike/index.html" },  
  { name: "Slope 2", url: "https://d272xss3wq00xu.cloudfront.net/slope-2/index.html" },  
  { name: "Super Mario 64", url: "https://d272xss3wq00xu.cloudfront.net/sm64/index.html" },  
  { name: "Smash Karts", url: "https://d272xss3wq00xu.cloudfront.net/smashkarts/index.html" },  
  { name: "Sniper Shot", url: "https://d272xss3wq00xu.cloudfront.net/sniper-shot/index.html" },  
  { name: "Soccer Heads", url: "https://d272xss3wq00xu.cloudfront.net/soccer-heads/index.html" },  
  { name: "Soundboard", url: "https://d272xss3wq00xu.cloudfront.net/soundboard/index.html" },  
  { name: "Space Company", url: "https://d272xss3wq00xu.cloudfront.net/space-company/index.html" },  
  { name: "Stack Bump 3D", url: "https://d272xss3wq00xu.cloudfront.net/stack-bump-3d/index.html" },  
  { name: "Stack", url: "https://d272xss3wq00xu.cloudfront.net/stack/index.html" },  
  { name: "Stack Ball", url: "https://d272xss3wq00xu.cloudfront.net/stackball/index.html" },  
  { name: "Stickman Hook", url: "https://d272xss3wq00xu.cloudfront.net/stickman-hook/index.html" },  
  { name: "Stickman Survival", url: "https://d272xss3wq00xu.cloudfront.net/Stickman-Survival/index.html" },  
  { name: "Super Mario Run", url: "https://d272xss3wq00xu.cloudfront.net/supermariorun.html" },  
  { name: "Tactical Assasin 2", url: "https://d272xss3wq00xu.cloudfront.net/tacticalassasin2/index.html" },  
  { name: "Temple Run 2", url: "https://d272xss3wq00xu.cloudfront.net/temple-run-2/index.html" },  
  { name: "Territorial", url: "https://d272xss3wq00xu.cloudfront.net/territorial.html" },  
  { name: "Tunnel Rush", url: "https://d272xss3wq00xu.cloudfront.net/tunnel-rush/index.html" },  
  { name: "Vex 7", url: "https://d272xss3wq00xu.cloudfront.net/vex7/index.html" },  
  { name: "Wordle", url: "https://d272xss3wq00xu.cloudfront.net/wordle/index.html" },  
  { name: "Yohoho", url: "https://d272xss3wq00xu.cloudfront.net/yohoho/index.html" },  
  { name: "Gun Spin", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/RobiFet/workflow@60b41ef8c9123ae41b86bf04c9b39e1a5713aaa9/bin/gs.xml&container=ig" },  
  { name: "Rooftop Snipers", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/sk1bx/version@f8de953e5d955baef80e3994a1105d74ad76315b/Rooftop-Snipers.xml&container=ig" },  
  { name: "Basket Random", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/classroom-google-new/google.net@main/newgoogletrendd.xml&container=ig" },  
  { name: "Hole.io", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/gertdoro/Toolkit@93a27eabbbe5eb626af5b9b7dd0926ac16810a41/Code/Java/hole.xml&container=ig" },  
  { name: "Snake", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://26515722-282596139816136697.preview.editmysite.com/uploads/b/7547235-562404422326578714/files/sis.xml&container=ig" },  
  { name: "Vex 5", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/bobydob/JSEngine@dae52f4583f3cc7612451ea7f02965aeff6077bf/build/v5/v5.xml&container=ig" },  
  { name: "Cookie Clicker", url: "https://google-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/bobydob/JSEngine@0d9afabd2522344a702e1b692ad58039f6290b0d/build/c-c/cc.xml&container=ig" },  
  { name: "Tomb Of The Mask", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/sk1bx/element@9cccb2fafb569c963501a5d818472b561121cea6/totm.xml&container=ig" },  
  { name: "Work Madness", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/27a7a2ce95d5c/google.xml?part=0.1&view=1&container=ig" },  
  { name: "Monster Truck Race", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/27f7898b1dc1b/yyyy.xml?part=0.1&view=1&container=ig" },  
  { name: "Geometry Dash 3D", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/54029c83177b1/geyee.xml?part=0.1&view=1&container=ig" },  
  { name: "Cyber Cars", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/b14b0568a59ba/yu7tc.xml?part=0.1&view=1&container=ig" },  
  { name: "Aquapark Cars", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/ad1b0f5720964/bbbgf.xml?part=0.1&view=1&container=ig" },  
  { name: "Aim Trainer", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/27a856ab4f4d3/google.xml?part=0.1&view=1&container=ig" },  
  { name: "Zombie Exploder", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/27a8f79c6acbe/google.xml?part=0.1&view=1&container=ig" },  
  { name: "Mortal Kombat", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/27aa8c8fdd5ac/google.xml?part=0.1&view=1&container=ig" },  
  { name: "Electric Man", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/27ab7e09f8875/google.xml?part=0.1&view=1&container=ig" },  
  { name: "Bounzy 2", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/27ad4a72a840f/google.xml?part=0.1&view=1&container=ig" },  
  { name: "Ambulance Rush", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/27acba29ab944/google.xml?part=0.1&view=1&container=ig" },  
  { name: "Russians Drive", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/54r7m5resdndren65dx/attach/ac5505094336e/z64.xml?part=0.1&view=1&container=ig" },  
  { name: "OvO", url: "https://s6jf3nx0gk1d6n-opensocial.googleusercontent.com/gadgets/ifr?url=https://427396048-642845047394716217.preview.editmysite.com/uploads/b/139890129-761103484729797659/files/ovof.xml&container=ig" },  
  { name: "OvO 2", url: "https://s6jf3nx0gk1d6n-opensocial.googleusercontent.com/gadgets/ifr?url=https://googleusercontent.b-cdn.net/ovo2/ovo2.xml&container=ig" },  
  { name: "Proxy Links", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/u/6/group/google-forms-work/attach/6e87fda052412/googlecom.xml?part=0.1&view=1&authuser=6&container=ig" },  
  { name: "Do Not Stop", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/classroom-management/teacher@main/dotgoogle.xml&container=ig" },  
  { name: "BitLife", url: "https://d272xss3wq00xu.cloudfront.net/bitlife/index.html" },  
  { name: "Helix Jump", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/u/6/group/54r7m5resdndren65dx/attach/a634c8ae323d5/h4643.xml?part=0.1&view=1&authuser=6&container=ig" },  
  { name: "Pixel Shooter", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://groups.google.com/group/classroomgoogl-net/attach/99c0874f1098d/zy55555.xml?part=0.1&view=1&container=ig" },  
  { name: "Highway Rider Extreme", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/234sd4w5w45wers5tr-645758574456456/9900@main/5234234.xml?part=0.1&view=1&container=ig" },  
  { name: "Paper IO 2", url: "https://d272xss3wq00xu.cloudfront.net/paperio2/index.html" },  
  { name: "Paper IO 3", url: "https://d272xss3wq00xu.cloudfront.net/paperio3.html" },  
  { name: "Acid Rain", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/1ee20621-61bc-4ec8-a8ec-5e839c2e6edc%2Facid-rain.xml&container=ig" },  
  { name: "UNO!", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/gertdoro/UnityPy@388b260053eaa47c3ac01b18c66d5508c6cfe231/tests/samples/uno.xml&container=ig" },  
  { name: "Elastic Face", url: "https://s6jf3nx0gk1d6n-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/bobydob/godotpack@e2eaacc90db7a760867d838a1224e490a92da39b/side/eman/face.xml&container=ig" },  
  { name: "Hill Climbing", url: "https://s6jf3nx0gk1d6n-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/bessiegasbarro/HCR@402cc488704523b469aa22506bf4c6c2207097c4/hcr.xml&container=ig" },  
  { name: "3D Block Builder", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/classroom-management/tyt@main/google.net.xml?part=0.1&view=1&container=ig" },  
  { name: "Basketball Shooter", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/yrgen73/BSD2@b5104af0b3a445248e829ff728017e5cc40d72e8/bsd2.xml?part=0.1&view=1&container=ig" },  
  { name: "Bouncy Rush", url: "https://classroom-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/gertdoro/UnityExplorer@f5d8c1af690a04f18c72ae56dad76e216b6ecbf2/CacheObject/Bouncy.xml&container=ig" },  
  { name: "Agar IO lite", url: "https://d272xss3wq00xu.cloudfront.net/agario.html" },  
  { name: "Mario Party 4", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/f107b843-3661-4036-9397-2b0c6414a369%2Fmarioparty4.xml&container=ig" },  
  { name: "Dead Zed", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/1ee20621-61bc-4ec8-a8ec-5e839c2e6edc%2Fdead_zed.xml&container=ig" },  
  { name: "Galaga", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/1ee20621-61bc-4ec8-a8ec-5e839c2e6edc%2Fgalaga.xml&container=ig" },  
  { name: "Riddle School 1", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/1ee20621-61bc-4ec8-a8ec-5e839c2e6edc%2Friddle-school.xml&container=ig" },  
  { name: "Obby Robby", url: "https://qrvqrzbrdnhtbikofnemykr8-opensocial.googleusercontent.com/gadgets/ifr?url=https://s3.amazonaws.com/production-assetsbucket-8ljvyr1xczmb/9ecda005-11e9-4b52-ab9e-700b4d46d00f%2Fobby.xml&container=ig" },  
  { name: "Soccer Random", url: "https://azqjxdsdtqfbdwfvzlny3kgl-opensocial.googleusercontent.com/gadgets/ifr?url=https://471058263-725410472258601738.preview.editmysite.com/uploads/b/139890129-510930859892590631/files/sr.xml&container=ig" },  
  { name: "Save My Pet", url: "https://images-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/nurimoores/DataSources@9f54c673948151d03a62f5e63c67efaf558759ab/smp.xml&container=ig" },  
  { name: "Noob Miner", url: "https://my79w0vvvo1to8nev0pnvq08-opensocial.googleusercontent.com/gadgets/ifr?url=https://428048613-274630817493625816.preview.editmysite.com/uploads/b/139890129-289556751581345554/files/nm.xml&container=ig" },  
  { name: "Soccer Skills", url: "https://aa6hthgbtn19gwwl28pelv1q-opensocial.googleusercontent.com/gadgets/ifr?url=https://471904738-852049328537117493.preview.editmysite.com/uploads/b/139890129-154348492386095606/files/ssee.xml&container=ig" },  
  { name: "Death Run 3D", url: "https://sv2emrfgjawywpy44osygatn-opensocial.googleusercontent.com/gadgets/ifr?url=https://cdn.jsdelivr.net/gh/sk1bx/version@93f7f60b0f054c956ca9b6622f2daeeeb450632c/death_run.xml&container=ig" },  
  { name: "Noob vs Pro", url: "https://bdjfc7hca56th6oqeynmkizy-opensocial.googleusercontent.com/gadgets/ifr?url=https://374610594-153905749316385925.preview.editmysite.com/uploads/b/139890129-538277031118477931/files/nvp.xml&container=ig" }, 
        ];

        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', {
                hour: 'numeric',
                minute: '2-digit',
                hour12: true
            });
            document.getElementById('clock').textContent = timeString;
        }

        setInterval(updateClock, 1000);
        updateClock();

        function showTabCloakPopup() {
            document.getElementById('tabCloakPopup').style.display = 'block';
        }

        function closePopup() {
            document.getElementById('tabCloakPopup').style.display = 'none';
        }

        function setTabCloak() {
            const name = document.getElementById('tabName').value;
            const icon = document.getElementById('tabIcon').value;

            if (name) document.title = name;
            if (icon) {
                const favicon = document.querySelector("link[rel~='icon']") || document.createElement('link');
                favicon.rel = 'icon';
                favicon.href = icon;
                document.head.appendChild(favicon);
            }

            closePopup();
        }

        particlesJS('particles-js', {
            particles: {
                number: {
                    value: 100,
                    density: {
                        enable: true,
                        value_area: 800
                    }
                },
                color: {
                    value: '#ffffff'
                },
                shape: {
                    type: 'circle',
                },
                opacity: {
                    value: 0.5,
                    random: true,
                    anim: {
                        enable: true,
                        speed: 1,
                        opacity_min: 0.1
                    }
                },
                size: {
                    value: 3,
                    random: true,
                    anim: {
                        enable: false
                    }
                },
                line_linked: {
                    enable: false
                },
                move: {
                    enable: true,
                    speed: 1,
                    direction: 'bottom',
                    random: true,
                    straight: false,
                    out_mode: 'out'
                }
            },
            interactivity: {
                events: {
                    onhover: {
                        enable: false
                    },
                    onclick: {
                        enable: false
                    }
                }
            },
            retina_detect: true
        });

        function openGames() {
            const win = window.open('');
            win.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Games</title>
                    <style>
                        * { margin: 0; padding: 0; box-sizing: border-box; }
                        body {
                            background: #000;
                            color: white;
                            font-family: Arial, sans-serif;
                            min-height: 100vh;
                            padding: 20px;
                            overflow: hidden;
                        }
                        #particles-js {
                            position: fixed;
                            width: 100%;
                            height: 100%;
                            top: 0;
                            left: 0;
                            z-index: 0;
                        }
                        .container {
                            position: relative;
                            z-index: 1;
                            max-width: 1200px;
                            margin: 0 auto;
                            padding: 20px;
                        }
                        h1 {
                            text-align: center;
                            font-size: 3em;
                            margin-bottom: 40px;
                            color: white;
                        }
                        .game-buttons {
                            display: grid;
                            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                            gap: 20px;
                            margin-bottom: 20px;
                            max-height: calc(100vh - 100px);
                            overflow-y: auto;
                            padding: 20px;
                            border-radius: 15px;
                            background: rgba(0, 0, 0, 0.8);
                            border: 1px solid rgba(255, 255, 255, 0.1);
                        }
                        .game-button {
                            background: rgba(0, 0, 0, 0.8);
                            border: 2px solid rgba(255, 255, 255, 0.1);
                            padding: 15px 25px;
                            color: white;
                            border-radius: 10px;
                            cursor: pointer;
                            font-size: 16px;
                            transition: all 0.3s ease;
                            height: 60px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        }

                        .game-button:hover {
                            background: rgba(0, 0, 0, 1);
                            transform: translateY(-2px);
                            border-color: rgba(255, 255, 255, 0.3);
                        }

                        #gameFrame {
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            border: none;
                            background: #000;
                            display: none;
                            z-index: 1000;
                        }
                    </style>
                </head>
                <body>
                    <div id="particles-js"></div>
                    <div class="container">
                        <h1>Games</h1>
                        <div class="game-buttons">
                            ${games.map(game => `
                                <button class="game-button" onclick="loadGame('${game.url}')">${game.name}</button>
                            `).join('')}
                        </div>
                        <iframe id="gameFrame"></iframe>
                    </div>
                    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"><\/script>
                    <script>
                        function loadGame(url) {
                            const frame = document.getElementById('gameFrame');
                            const buttons = document.querySelector('.game-buttons');
                            const backBtn = document.querySelector('.back-button');
                            const title = document.querySelector('h1');

                            frame.style.display = 'block';
                            frame.src = url;
                            buttons.style.display = 'none';
                            backBtn.style.display = 'block';
                            title.style.display = 'none';
                        }

                        function closeGame() {
                            const frame = document.getElementById('gameFrame');
                            const buttons = document.querySelector('.game-buttons');
                            const backBtn = document.querySelector('.back-button');
                            const title = document.querySelector('h1');

                            frame.style.display = 'none';
                            frame.src = '';
                            buttons.style.display = 'grid';
                            backBtn.style.display = 'none';
                            title.style.display = 'block';
                        }

                        particlesJS('particles-js', {
                            particles: {
                                number: {
                                    value: 100,
                                    density: {
                                        enable: true,
                                        value_area: 800
                                    }
                                },
                                color: {
                                    value: '#ffffff'
                                },
                                shape: {
                                    type: 'circle',
                                },
                                opacity: {
                                    value: 0.5,
                                    random: true,
                                    anim: {
                                        enable: true,
                                        speed: 1,
                                        opacity_min: 0.1
                                    }
                                },
                                size: {
                                    value: 3,
                                    random: true,
                                    anim: {
                                        enable: false
                                    }
                                },
                                line_linked: {
                                    enable: false
                                },
                                move: {
                                    enable: true,
                                    speed: 1,
                                    direction: 'bottom',
                                    random: true,
                                    straight: false,
                                    out_mode: 'out'
                                }
                            },
                            interactivity: {
                                events: {
                                    onhover: {
                                        enable: false
                                    },
                                    onclick: {
                                        enable: false
                                    }
                                }
                            },
                            retina_detect: true
                        });
                    <\/script>
                    <style>
                        @keyframes colorChange {
                            0% { color: #ff0000; text-shadow: 0 0 10px #ff0000; }
                            20% { color: #00ff00; text-shadow: 0 0 10px #00ff00; }
                            40% { color: #0000ff; text-shadow: 0 0 10px #0000ff; }
                            60% { color: #ff00ff; text-shadow: 0 0 10px #ff00ff; }
                            80% { color: #ffff00; text-shadow: 0 0 10px #ffff00; }
                            100% { color: #ff0000; text-shadow: 0 0 10px #ff0000; }
                        }

                        .credit-text {
                            position: fixed;
                            top: 20px;
                            right: 20px;
                            font-weight: bold;
                            font-family: Arial, sans-serif;
                            font-size: 24px;
                            z-index: 1000;
                            animation: colorChange 4s infinite;
                            filter: drop-shadow(0 0 15px rgba(255,255,255,0.5));
                            text-shadow: 0 0 10px currentColor,
                                         0 0 20px currentColor,
                                         0 0 30px currentColor;
                            text-decoration: none;
                        }

                        .credit-text:hover {
                            transform: scale(1.1);
                            transition: transform 0.3s ease;
                        }
                    </style>
                    <a href=":) More Games soon" target="_blank" class="credit-text">Games By BigFishGaming</a>
                </body>
                </html>
            `);
            win.document.close();
        }

        function openProxy() {
            const win = window.open('about:blank', '_blank');
            win.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                <title>Proxy</title>
                    <style>
                        body, html {
                            margin: 0;
                            padding: 0;
                            width: 100%;
                            height: 100%;
                            overflow: hidden;
                        }
                        iframe {
                            width: 100%;
                            height: 100%;
                            border: none;
                        }
                    </style>
                </head>
                <body>
                    <iframe src="data:text/html;base64,PCFET0NUWVBFIGh0bWw+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDxzdHlsZT4NCiAgICAgICAgYm9keSB7DQogICAgICAgICAgICBtYXJnaW46IDA7DQogICAgICAgICAgICBwYWRkaW5nOiAwOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzEyMTIxMjsNCiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOw0KICAgICAgICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsNCiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgIH0NCg0KICAgICAgICAuY29uZmlnLWJhciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWExYTFhOw0KICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7DQogICAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICAgIGhlaWdodDogMzJweDsNCiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgICAgICAgICB0b3A6IDA7DQogICAgICAgICAgICBsZWZ0OiAwOw0KICAgICAgICAgICAgcmlnaHQ6IDA7DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNvbmZpZy1idXR0b24gew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJkMmQyZDsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmOw0KICAgICAgICAgICAgcGFkZGluZzogMnB4IDhweDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsNCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7DQogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7DQogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogICAgICAgICAgICBoZWlnaHQ6IDIycHg7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5uYXYtYnV0dG9ucyB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgZ2FwOiA4cHg7DQogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICB9DQoNCiAgICAgICAgLm5hdi1idXR0b24gew0KICAgICAgICAgICAgY29sb3I6ICM5OTk7DQogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7DQogICAgICAgICAgICB3aWR0aDogMTZweDsNCiAgICAgICAgICAgIGhlaWdodDogMTZweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAucmVmcmVzaC1idXR0b24gew0KICAgICAgICAgICAgY29sb3I6ICM5OTk7DQogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7DQogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zZWFyY2gtY29udGFpbmVyIHsNCiAgICAgICAgICAgIGZsZXgtZ3JvdzogMTsNCiAgICAgICAgICAgIG1heC13aWR0aDogNjAwcHg7DQogICAgICAgICAgICBtYXJnaW46IDAgMTVweDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNlYXJjaC1pbnB1dCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmQyZDJkOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7DQogICAgICAgICAgICBwYWRkaW5nOiA0cHggOHB4Ow0KICAgICAgICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KICAgICAgICAgICAgaGVpZ2h0OiAyMnB4Ow0KICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgICAgfQ0KDQogICAgICAgIC52ZXJzaW9uLWluZm8gew0KICAgICAgICAgICAgY29sb3I6ICNmZmY7DQogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7DQogICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNvbmZpZy1wb3B1cCB7DQogICAgICAgICAgICBkaXNwbGF5OiBub25lOw0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgdG9wOiA0MHB4Ow0KICAgICAgICAgICAgbGVmdDogMTBweDsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxYTFhMWE7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjMzMzOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICAgICAgcGFkZGluZzogMTVweDsNCiAgICAgICAgICAgIG1pbi13aWR0aDogNDAwcHg7DQogICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwwLDAsMC4zKTsNCiAgICAgICAgICAgIHotaW5kZXg6IDEwMDA7DQogICAgICAgIH0NCg0KICAgICAgICAuY29uZmlnLXBvcHVwLmFjdGl2ZSB7DQogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgICAgfQ0KDQogICAgICAgIC5wcm94eS1saXN0IHsNCiAgICAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7DQogICAgICAgICAgICBwYWRkaW5nOiAwOw0KICAgICAgICAgICAgbWFyZ2luOiAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLnByb3h5LWl0ZW0gew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiA4cHggMDsNCiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzMzOw0KICAgICAgICB9DQoNCiAgICAgICAgLnByb3h5LW5hbWUgew0KICAgICAgICAgICAgY29sb3I6ICNjY2M7DQogICAgICAgICAgICBmb250LXNpemU6IDEzcHg7DQogICAgICAgIH0NCg0KICAgICAgICAucHJveHktYnV0dG9uIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyZDJkMmQ7DQogICAgICAgICAgICBib3JkZXI6IG5vbmU7DQogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsNCiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA4cHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7DQogICAgICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAuZGF0YS1zZWN0aW9uIHsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7DQogICAgICAgICAgICBwYWRkaW5nLXRvcDogMTVweDsNCiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMzMzOw0KICAgICAgICB9DQoNCiAgICAgICAgI21haW5Db250ZW50IHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIHRvcDogMzJweDsNCiAgICAgICAgICAgIGxlZnQ6IDA7DQogICAgICAgICAgICByaWdodDogMDsNCiAgICAgICAgICAgIGJvdHRvbTogMDsNCiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgIH0NCg0KICAgICAgICAjY29udGVudEZyYW1lIHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgIH0NCg0KICAgICAgICAjZmV0Y2hlZENvbnRlbnQgew0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgICAgICBvdmVyZmxvdzogYXV0bzsNCiAgICAgICAgfQ0KDQogICAgICAgIC5lcnJvci1jb250YWluZXIgew0KICAgICAgICAgICAgcGFkZGluZzogMjBweDsNCiAgICAgICAgICAgIGNvbG9yOiAjZmY2MTYxOw0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICB9DQoNCiAgICAgICAgLmxvYWRpbmcgew0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOw0KICAgICAgICAgICAgdG9wOiA1MCU7DQogICAgICAgICAgICBsZWZ0OiA1MCU7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCiAgICAgICAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgICB9DQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCjxib2R5Pg0KICAgIDxkaXYgY2xhc3M9ImNvbmZpZy1iYXIiPg0KICAgICAgICA8YnV0dG9uIGNsYXNzPSJjb25maWctYnV0dG9uIiBvbmNsaWNrPSJ0b2dnbGVDb25maWcoKSI+Y29uZmlnPC9idXR0b24+DQogICAgICAgIDxkaXYgY2xhc3M9Im5hdi1idXR0b25zIj4NCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJuYXYtYnV0dG9uIiBvbmNsaWNrPSJnb0JhY2soKSI+JmxhcnI7PC9zcGFuPg0KICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im5hdi1idXR0b24iIG9uY2xpY2s9ImdvRm9yd2FyZCgpIj4mcmFycjs8L3NwYW4+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8c3BhbiBjbGFzcz0icmVmcmVzaC1idXR0b24iIG9uY2xpY2s9InJlbG9hZCgpIj4mI3gyMUJCOzwvc3Bhbj4NCiAgICAgICAgPGRpdiBjbGFzcz0ic2VhcmNoLWNvbnRhaW5lciI+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9InNlYXJjaC1pbnB1dCIgcGxhY2Vob2xkZXI9IkVudGVyIFVSTCIgaWQ9InVybElucHV0Ij4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxzcGFuIGNsYXNzPSJ2ZXJzaW9uLWluZm8iPmxpdGhpdW0tZGV2LTlhZGY4ZDwvc3Bhbj4NCiAgICA8L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9ImNvbmZpZy1wb3B1cCIgaWQ9ImNvbmZpZ1BvcHVwIj4NCiAgICAgICAgPGRpdiBjbGFzcz0icHJveHktbGlzdCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm94eS1pdGVtIj4NCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icHJveHktbmFtZSI+Q29kZVRhYnMgUHJveHk8L3NwYW4+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0icHJveHktYnV0dG9uIiBvbmNsaWNrPSJjaGFuZ2VQcm94eSgnY29kZXRhYnMnKSI+VXNlIFByb3h5PC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb3h5LWl0ZW0iPg0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJwcm94eS1uYW1lIj5Db2RlVGFicyBUTVA8L3NwYW4+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0icHJveHktYnV0dG9uIiBvbmNsaWNrPSJjaGFuZ2VQcm94eSgnY29kZXRhYnMtdG1wJykiPlVzZSBQcm94eTwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm94eS1pdGVtIj4NCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icHJveHktbmFtZSI+QWxsIE9yaWdpbnM8L3NwYW4+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0icHJveHktYnV0dG9uIiBvbmNsaWNrPSJjaGFuZ2VQcm94eSgnYWxsb3JpZ2lucycpIj5Vc2UgUHJveHk8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJveHktaXRlbSI+DQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InByb3h5LW5hbWUiPkNPUlMgUHJveHk8L3NwYW4+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0icHJveHktYnV0dG9uIiBvbmNsaWNrPSJjaGFuZ2VQcm94eSgnY29yc3Byb3h5JykiPlVzZSBQcm94eTwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPGRpdiBpZD0ibWFpbkNvbnRlbnQiPg0KICAgICAgICA8aWZyYW1lIGlkPSJjb250ZW50RnJhbWUiPjwvaWZyYW1lPg0KICAgICAgICA8ZGl2IGlkPSJmZXRjaGVkQ29udGVudCI+PC9kaXY+DQogICAgICAgIDxkaXYgaWQ9ImxvYWRpbmciIGNsYXNzPSJsb2FkaW5nIiBzdHlsZT0iZGlzcGxheTpub25lOyI+TG9hZGluZy4uLjwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPHNjcmlwdD4NCiAgICAgICAgY29uc3QgcHJveHlDb25maWdzID0gew0KICAgICAgICAgICAgJ2NvZGV0YWJzJzogKHVybCkgPT4gYGh0dHBzOi8vYXBpLmNvZGV0YWJzLmNvbS92MS9wcm94eT9xdWVzdD0ke3VybH1gLA0KICAgICAgICAgICAgJ2NvZGV0YWJzLXRtcCc6ICh1cmwpID0+IGBodHRwczovL2FwaS5jb2RldGFicy5jb20vdjEvdG1wLz9xdWVzdD0ke3VybH1gLA0KICAgICAgICAgICAgJ2FsbG9yaWdpbnMnOiAodXJsKSA9PiBgaHR0cHM6Ly9hcGkuYWxsb3JpZ2lucy53aW4vcmF3P3VybD0ke3VybH1gLA0KICAgICAgICAgICAgJ2NvcnNwcm94eSc6ICh1cmwpID0+IGBodHRwczovL2NvcnNwcm94eS5pby8/dXJsPSR7dXJsfWANCiAgICAgICAgfTsNCg0KICAgICAgICBsZXQgY3VycmVudFByb3h5ID0gJ2NvZGV0YWJzJzsNCiAgICAgICAgbGV0IGN1cnJlbnRVcmwgPSAnJzsNCiAgICAgICAgbGV0IGhpc3RvcnkgPSBbXTsNCiAgICAgICAgbGV0IGhpc3RvcnlJbmRleCA9IC0xOw0KDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoQ29udGVudCh1cmwsIHByb3h5KSB7DQogICAgICAgICAgICBjb25zdCBwcm94eVVybCA9IHByb3h5Q29uZmlnc1twcm94eV0odXJsKTsNCiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocHJveHlVcmwpOw0KICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApOw0KICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnRleHQoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRVcmwodXJsLCBhZGRUb0hpc3RvcnkgPSB0cnVlKSB7DQogICAgICAgICAgICBpZiAoIXVybCkgcmV0dXJuOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoYWRkVG9IaXN0b3J5KSB7DQogICAgICAgICAgICAgICAgaGlzdG9yeSA9IGhpc3Rvcnkuc2xpY2UoMCwgaGlzdG9yeUluZGV4ICsgMSk7DQogICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHVybCk7DQogICAgICAgICAgICAgICAgaGlzdG9yeUluZGV4Kys7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGN1cnJlbnRVcmwgPSB1cmw7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXJsSW5wdXQnKS52YWx1ZSA9IHVybDsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQoNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnRGcmFtZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZldGNoZWRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQogICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZldGNoQ29udGVudCh1cmwsIGN1cnJlbnRQcm94eSk7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZldGNoZWRDb250ZW50JykuaW5uZXJIVE1MID0gY29udGVudDsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZldGNoZWRDb250ZW50JykuaW5uZXJIVE1MID0gYA0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJlcnJvci1jb250YWluZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGgyPkVycm9yIExvYWRpbmcgQ29udGVudDwvaDI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2Vycm9yLm1lc3NhZ2V9PC9wPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOw0KICAgICAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBjaGFuZ2VQcm94eShwcm94eSkgew0KICAgICAgICAgICAgY3VycmVudFByb3h5ID0gcHJveHk7DQogICAgICAgICAgICBpZiAoY3VycmVudFVybCkgew0KICAgICAgICAgICAgICAgIGxvYWRVcmwoY3VycmVudFVybCwgZmFsc2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdG9nZ2xlQ29uZmlnKCk7DQogICAgICAgIH0gICAgDQoNCiAgICAgICAgZnVuY3Rpb24gZ29CYWNrKCkgew0KICAgICAgICAgICAgaWYgKGhpc3RvcnlJbmRleCA+IDApIHsNCiAgICAgICAgICAgICAgICBoaXN0b3J5SW5kZXgtLTsNCiAgICAgICAgICAgICAgICBsb2FkVXJsKGhpc3RvcnlbaGlzdG9yeUluZGV4XSwgZmFsc2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkgew0KICAgICAgICAgICAgaWYgKGhpc3RvcnlJbmRleCA8IGhpc3RvcnkubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICAgIGhpc3RvcnlJbmRleCsrOw0KICAgICAgICAgICAgICAgIGxvYWRVcmwoaGlzdG9yeVtoaXN0b3J5SW5kZXhdLCBmYWxzZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiByZWxvYWQoKSB7DQogICAgICAgICAgICBpZiAoY3VycmVudFVybCkgew0KICAgICAgICAgICAgICAgIGxvYWRVcmwoY3VycmVudFVybCwgZmFsc2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlQ29uZmlnKCkgew0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ1BvcHVwJykuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7DQogICAgICAgIH0NCg0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXJsSW5wdXQnKS5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7DQogICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHsNCiAgICAgICAgICAgICAgICBsZXQgdXJsID0gZS50YXJnZXQudmFsdWU7DQogICAgICAgICAgICAgICAgaWYgKCF1cmwuc3RhcnRzV2l0aCgnaHR0cDovLycpICYmICF1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkgew0KICAgICAgICAgICAgICAgICAgICB1cmwgPSAnaHR0cHM6Ly8nICsgdXJsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBsb2FkVXJsKHVybCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsNCiAgICAgICAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLmNvbmZpZy1wb3B1cCcpICYmICFlLnRhcmdldC5jbG9zZXN0KCcuY29uZmlnLWJ1dHRvbicpKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ1BvcHVwJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIDwvc2NyaXB0Pg0KICAgICA8c3R5bGU+DQogICAgICAgIEBrZXlmcmFtZXMgY29sb3JDaGFuZ2Ugew0KICAgICAgICAgICAgMCUgeyBjb2xvcjogI2ZmMDAwMDsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4ICNmZjAwMDA7IH0NCiAgICAgICAgICAgIDIwJSB7IGNvbG9yOiAjMDBmZjAwOyB0ZXh0LXNoYWRvdzogMCAwIDEwcHggIzAwZmYwMDsgfQ0KICAgICAgICAgICAgNDAlIHsgY29sb3I6ICMwMDAwZmY7IHRleHQtc2hhZG93OiAwIDAgMTBweCAjMDAwMGZmOyB9DQogICAgICAgICAgICA2MCUgeyBjb2xvcjogI2ZmMDBmZjsgdGV4dC1zaGFkb3c6IDAgMCAxMHB4ICNmZjAwZmY7IH0NCiAgICAgICAgICAgIDgwJSB7IGNvbG9yOiAjZmZmZjAwOyB0ZXh0LXNoYWRvdzogMCAwIDEwcHggI2ZmZmYwMDsgfQ0KICAgICAgICAgICAgMTAwJSB7IGNvbG9yOiAjZmYwMDAwOyB0ZXh0LXNoYWRvdzogMCAwIDEwcHggI2ZmMDAwMDsgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLmNyZWRpdC10ZXh0IHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIHRvcDogMjBweDsNCiAgICAgICAgICAgIHJpZ2h0OiAyMHB4Ow0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7DQogICAgICAgICAgICBmb250LXNpemU6IDI0cHg7DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwOw0KICAgICAgICAgICAgYW5pbWF0aW9uOiBjb2xvckNoYW5nZSA0cyBpbmZpbml0ZTsNCiAgICAgICAgICAgIGZpbHRlcjogZHJvcC1zaGFkb3coMCAwIDE1cHggcmdiYSgyNTUsMjU1LDI1NSwwLjUpKTsNCiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDAgMTBweCBjdXJyZW50Q29sb3IsDQogICAgICAgICAgICAgICAgICAgICAgICAgMCAwIDIwcHggY3VycmVudENvbG9yLA0KICAgICAgICAgICAgICAgICAgICAgICAgIDAgMCAzMHB4IGN1cnJlbnRDb2xvcjsNCiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jcmVkaXQtdGV4dDpob3ZlciB7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlOw0KICAgICAgICB9DQogICAgPC9zdHlsZT4NCiAgICA8YSBocmVmPSJodHRwczovL3B1bHNlY29kZXMuY2MiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iY3JlZGl0LXRleHQiPlByb3h5IGJ5IFB1bHNlY29kZXM8L2E+DQo8L2JvZHk+DQo8L2h0bWw+"></iframe>
                </body>
                </html>
            `);
            win.document.close();
        }

        function loadAI() {
            const contentArea = document.createElement('div');
            contentArea.id = 'content-area';
            contentArea.style.position = 'fixed';
            contentArea.style.top = '0';
            contentArea.style.left = '0';
            contentArea.style.width = '100%';
            contentArea.style.height = '100%';
            contentArea.style.background = 'linear-gradient(145deg, #1e1b4b, #0d0f45)';
            contentArea.style.color = '#e1e2ec';
            contentArea.style.overflow = 'hidden';
            contentArea.style.zIndex = '1000';
            contentArea.innerHTML = `
                <div style="height: 100%; padding: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <h1 style="text-align: center; font-size: 3rem; margin: 20px 0; background: linear-gradient(45deg, #fff, #a5a3ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">AI Chat</h1>
                    <style>
                        .chat-container {max-width: 800px; width: 100%; margin: 0 auto; background: rgba(255, 255, 255, 0.05); border-radius: 15px; overflow: hidden; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);}
                        .chatbox {height: calc(100% - 100px); overflow-y: auto; padding: 20px;}
                        .chat {list-style: none; margin: 15px 0; padding: 0;}
                        .chat-incoming p {background: rgba(255, 255, 255, 0.1); color: #e1e2ec; border-radius: 15px 15px 15px 0; padding: 12px 16px; max-width: 75%; width: fit-content; margin: 0;}
                        .chat-outgoing {display: flex; justify-content: flex-end;}
                        .chat-outgoing p {background: #4945ff; color: #fff; border-radius: 15px 15px 0 15px; padding: 12px 16px; max-width: 75%; width: fit-content; margin: 0;}
                        .chat-input {display: flex; gap: 10px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-top: 1px solid rgba(255, 255, 255, 0.1); width: 100%;}
                        .chat-input textarea {width: 100%; padding: 12px; border: none; border-radius: 10px; background: rgba(255, 255, 255, 0.1); color: #e1e2ec; resize: none; height: 45px; font-size: 16px; outline: none;}
                        .chat-input button {padding: 0 20px; border: none; border-radius: 10px; background: #4945ff; color: #fff; cursor: pointer; transition: background 0.3s ease;}
                        .chat-input button:hover {background: #6e6aff;}
                        .error {color: #ff4545 !important;}
                    </style>
                    <div class="chat-container">
                        <ul class="chatbox"></ul>
                        <div class="chat-input">
                            <textarea placeholder="Enter your message..." required></textarea>
                            <button>Send</button>
                        </div>
                    </div>
                </div>
            `;

            document.body.appendChild(contentArea);

            const chatInput = document.querySelector('.chat-input textarea');
            const sendChatBtn = document.querySelector('.chat-input button');
            const chatbox = document.querySelector(".chatbox");
            let userMessage;
            const API_KEY = "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";

            const createChatLi = (message, className) => {
                const chatLi = document.createElement("li");
                chatLi.classList.add("chat", className);
                let chatContent = className === "chat-outgoing" ? `<p>${message}</p>` : `<p>${message}</p>`;
                chatLi.innerHTML = chatContent;
                return chatLi;
            }

            const generateResponse = (incomingChatLi) => {
                const API_URL = "https://api.groq.com/openai/v1/chat/completions";
                const messageElement = incomingChatLi.querySelector("p");

                const requestOptions = {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "Authorization": `Bearer ${API_KEY}`
                    },
                    body: JSON.stringify({
                        "model": "mixtral-8x7b-32768",
                        "messages": [
                            {"role": "system", "content": "You are a helpful AI assistant."},
                            {"role": "user", "content": userMessage}
                        ],
                        "temperature": 0.9,
                        "max_tokens": 1024,
                        "stream": false
                    })
                };

                fetch(API_URL, requestOptions)
                    .then(res => {
                        if (!res.ok) throw new Error("Network response was not ok");
                        return res.json();
                    })
                    .then(data => {
                        messageElement.textContent = data.choices[0].message.content;
                    })
                    .catch(() => {
                        messageElement.classList.add("error");
                        messageElement.textContent = "Oops! Something went wrong. Please try again!";
                    })
                    .finally(() => chatbox.scrollTo(0, chatbox.scrollHeight));
            };

            const handleChat = () => {
                userMessage = chatInput.value.trim();
                if (!userMessage) return;

                chatbox.appendChild(createChatLi(userMessage, "chat-outgoing"));
                chatInput.value = '';
                chatbox.scrollTo(0, chatbox.scrollHeight);

                setTimeout(() => {
                    const incomingChatLi = createChatLi("Thinking...", "chat-incoming");
                    chatbox.appendChild(incomingChatLi);
                    chatbox.scrollTo(0, chatbox.scrollHeight);
                    generateResponse(incomingChatLi);
                }, 600);
            }

            sendChatBtn.addEventListener("click", handleChat);
            chatInput.addEventListener("keydown", (e) => {
                if (e.key === "Enter" && !e.shiftKey) {
                    e.preventDefault();
                    handleChat();
                }
            });
        }

        let isPlaying = false;

        function playPause() {
            const audioPlayer = document.getElementById('backgroundMusic');
            const toggleButton = document.getElementById('ASong');

            if (isPlaying) {
                audioPlayer.pause();
                toggleButton.querySelector('span').textContent = 'Toggle Music';
            } else {
                audioPlayer.play();
                toggleButton.querySelector('span').textContent = 'Pause Music';
            }

            isPlaying = !isPlaying;
        }
    </script>
</body>
</html>
]]>
</Content>
</Module>
